{{- /* Constants */}}
{{- $name := "hugo-mod-image – img/missing" }}
{{- $configName := "data/hugoModImage" }}
{{- $errorLevel := site.Data.hugoModImage.errorLevel | default "warning" | lower }}
{{- $configErrorEnd := printf " Please check the configuration in %q" $configName }}

{{- $img := "" }}
{{- with resources.Get site.Data.hugoModImage.missing }}
    {{- $img = . }}
{{- else }}
    {{- $msg := print "Can’t resolve file for missing image" $configErrorEnd }}
    {{- partial "error-msg" (dict "caller" $name "errorMsg" $msg "errorLevel" $errorLevel) }}
{{- end }}

{{- return $img }}