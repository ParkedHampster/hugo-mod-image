{{/* Constants */}}
{{ $name := "hugo-mod-image – img/helper/missing" }}
{{ $configName := "data/hugoModImage" }}
{{ $level := site.Data.hugoModImage.errorLevel | default "warning" | lower }}
{{ $errorLevel := partial "error-level" (dict "caller" $name "level" $level "config" $configName ) }}
{{ $configErrorEnd := printf "See %q." $configName }}

{{ $img := "" }}
{{ with resources.Get site.Data.hugoModImage.missing }}
    {{ $img = . }}
{{ else }}
    {{ $msg := print "Can’t resolve file for missing image. " $configErrorEnd }}
    {{ partial "error-msg" (dict "caller" $name "errorMsg" $msg "errorLevel" $errorLevel) }}
{{ end }}

{{ return $img }}